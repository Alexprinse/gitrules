<!-- Include ActionButton Component -->
{% include 'components/ActionButton.html' %}

<!-- Right Panel: Quick Actions -->
<div class="workspace-sidebar bg-pink-50 p-4">
    <h3 class="text-lg font-black text-black mb-3">Quick Actions</h3>
    
    <!-- Quick Actions Tabs -->
    <div class="flex gap-1 mb-3 border-b-2 border-black">
        <button onclick="switchQuickActionTab('mcps')" id="qa-tab-mcps" class="px-2 py-1 bg-pink-400 border-2 border-black border-b-0 relative -mb-[2px] font-bold text-xs text-black">
            MCPs
        </button>
        <button onclick="switchQuickActionTab('rules')" id="qa-tab-rules" class="px-2 py-1 bg-white border-2 border-black font-bold text-xs text-black hover:bg-gray-50">
            Rules
        </button>
        <button onclick="switchQuickActionTab('subagents')" id="qa-tab-subagents" class="px-2 py-1 bg-white border-2 border-black font-bold text-xs text-black hover:bg-gray-50">
            Subagents
        </button>
    </div>
    
    <div class="space-y-3">
        <!-- MCPs Tab Content -->
        <div id="qa-content-mcps" class="qa-tab-content">
            <div class="space-y-2" style="margin: 4px;">
                <button class="action-button action-button--secondary action-button--full-width" onclick="addMCP('Supabase')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üóÑÔ∏è</span>
                        <span class="action-button__label">Supabase MCP</span>
                    </div>
                </button>
                
                <button class="action-button action-button--secondary action-button--full-width" onclick="addMCP('GitHub')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üêô</span>
                        <span class="action-button__label">Github MCP</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Rules Tab Content -->
        <div id="qa-content-rules" class="qa-tab-content hidden">
            <div class="space-y-2" style="margin: 4px;">
                <button class="action-button action-button--accent action-button--full-width" onclick="addRule('Python')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üêç</span>
                        <span class="action-button__label">Python</span>
                    </div>
                </button>
                
                <button class="action-button action-button--accent action-button--full-width" onclick="addRule('TypeScript')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üìò</span>
                        <span class="action-button__label">TypeScript</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Subagents Tab Content -->
        <div id="qa-content-subagents" class="qa-tab-content hidden">
            <div class="space-y-2" style="margin: 4px;">
                <button class="action-button action-button--primary action-button--full-width" onclick="addAgent('Researcher')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üîç</span>
                        <span class="action-button__label">Researcher</span>
                    </div>
                </button>
                
                <button class="action-button action-button--primary action-button--full-width" onclick="addAgent('Memory Manager')">
                    <div class="action-button__plus">+</div>
                    <div class="action-button__content">
                        <span class="action-button__icon">üß†</span>
                        <span class="action-button__label">Memory Manager</span>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
function switchQuickActionTab(tabName) {
    // Hide all content
    document.querySelectorAll('.qa-tab-content').forEach(content => {
        content.classList.add('hidden');
    });
    
    // Reset all tab styles
    document.querySelectorAll('[id^="qa-tab-"]').forEach(tab => {
        tab.className = 'px-2 py-1 bg-white border-2 border-black font-bold text-xs text-black hover:bg-gray-50';
    });
    
    // Show selected content and highlight tab
    document.getElementById('qa-content-' + tabName).classList.remove('hidden');
    document.getElementById('qa-tab-' + tabName).className = 'px-2 py-1 bg-pink-400 border-2 border-black border-b-0 relative -mb-[2px] font-bold text-xs text-black';
}

// Workspace action functions use the same simple functions from quick_actions.html
// addAgent(), addRule(), addMCP() are already defined there
</script>