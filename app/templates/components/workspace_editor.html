<!-- Center Panel: Monaco Editor -->
<div class="workspace-center lg:col-span-1 border-r-2 border-black">
    <!-- Integrated monaco editor without card styling -->
    <div class="p-4 bg-white h-full flex flex-col">
        <div class="flex justify-between items-center mb-2">
            <h3 class="text-lg font-black text-black">Context editor</h3>
            <div class="flex gap-2">
                <button id="copy-workspace-editor" 
                        class="px-3 py-1 bg-cyan-400 border-2 border-black text-black font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all text-xs">
                    Copy
                </button>
            </div>
        </div>
        
        <!-- File path label -->
        <div class="mb-4">
            <div id="current-file-path" class="text-xs text-gray-600 bg-gray-50 px-2 py-1 border border-gray-300 rounded" style="font-family: 'Courier New', monospace;">
                No file selected
            </div>
        </div>
        
        <div class="relative flex-1 mb-3">
            <div class="w-full h-full bg-gray-900 translate-y-1 translate-x-1 absolute inset-0 z-0"></div>
            <div id="workspace-monaco-editor" 
                 class="relative z-10 border-2 border-black bg-white h-full" 
                 style="min-height: 320px;"></div>
        </div>
        
        <!-- Install in one click card with tabs -->
        <div class="relative w-full">
            <!-- Tabs for the card -->
            <div class="flex gap-0">
                <button id="share-tab-install" class="share-tab-button active px-3 py-1 bg-pink-400 border-2 border-black border-b-0 text-black font-bold text-xs shadow-[2px_0px_0px_0px_rgba(0,0,0,1)] relative z-10">
                    macOS/Linux
                </button>
                <button id="share-tab-other" class="share-tab-button px-3 py-1 bg-gray-100 border-2 border-gray-400 border-b-0 text-gray-500 font-medium text-xs shadow-[1px_0px_0px_0px_rgba(0,0,0,0.3)] relative z-5" disabled>
                    Windows (soon)
                </button>
            </div>
            
            <!-- Card content -->
            <div id="auto-share-panel" class="bg-pink-400 border-2 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] p-3 relative z-0 w-full" style="margin-top: -2px;">
                <div class="flex gap-2 items-center justify-center">
                    <input id="share-link-input" type="text" readonly class="px-3 py-1 bg-white border-2 border-black text-black font-mono text-xs shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] focus:outline-none" style="min-width: 450px; cursor: text;" value="Waiting for first save...">
                    <button id="copy-share-link" class="px-3 py-1 bg-cyan-400 border-2 border-black text-black font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all text-xs disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Copy
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Tab switching for share panel -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const shareTabs = document.querySelectorAll('.share-tab-button');
    
    shareTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            // Skip if tab is disabled
            if (this.disabled) return;
            
            // Remove active state from all tabs
            shareTabs.forEach(t => {
                if (!t.disabled) {
                    t.classList.remove('active', 'bg-pink-400', 'border-black', 'text-black', 'font-bold', 'z-10');
                    t.classList.add('bg-gray-100', 'border-gray-400', 'text-gray-700', 'font-medium', 'z-5');
                    t.classList.remove('shadow-[2px_0px_0px_0px_rgba(0,0,0,1)]');
                    t.classList.add('shadow-[1px_0px_0px_0px_rgba(0,0,0,0.3)]');
                }
            });
            
            // Add active state to clicked tab
            this.classList.add('active', 'bg-pink-400', 'border-black', 'text-black', 'font-bold', 'z-10');
            this.classList.remove('bg-gray-100', 'border-gray-400', 'text-gray-700', 'font-medium', 'z-5');
            this.classList.remove('shadow-[1px_0px_0px_0px_rgba(0,0,0,0.3)]');
            this.classList.add('shadow-[2px_0px_0px_0px_rgba(0,0,0,1)]');
        });
    });
});
</script>