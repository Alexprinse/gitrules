<!-- Left Panel: File System -->
<div class="workspace-sidebar bg-cyan-50 border-r-2 border-black p-4">
    <div class="flex justify-between items-center mb-3">
        <h3 class="text-lg font-black text-black">Files</h3>
        <div class="flex gap-2">
            <button id="files-prev-btn" class="w-6 h-6 bg-gray-200 border-2 border-black text-black font-bold flex items-center justify-center shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all" title="Previous" disabled>
                <span class="mdi mdi-chevron-left text-sm"></span>
            </button>
            <button id="files-next-btn" class="w-6 h-6 bg-gray-200 border-2 border-black text-black font-bold flex items-center justify-center shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all" title="Next" disabled>
                <span class="mdi mdi-chevron-right text-sm"></span>
            </button>
            <button id="files-reset-btn" class="w-6 h-6 bg-red-400 border-2 border-black text-black font-bold flex items-center justify-center shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all" title="Reset">
                <span class="mdi mdi-trash-can-outline text-sm"></span>
            </button>
        </div>
    </div>
    
    <div class="bg-white border-2 border-black p-3 h-48 overflow-y-auto mb-3">
        <div id="file-tree" class="text-sm">
            <!-- File tree will be populated here -->
        </div>
        <div id="files-empty-state" class="text-center text-gray-500 text-sm py-8 hidden">
            No files yet. Use Quick Actions to add files.
        </div>
    </div>
    
    <div class="flex gap-2">
        <button id="new-file-button" class="w-full px-3 py-2 bg-cyan-400 border-2 border-black text-black font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all flex items-center justify-center gap-1 text-sm">
            <span class="mdi mdi-file-plus text-base"></span>
            <span>New File</span>
        </button>
    </div>
    
    <!-- Context selector relocated here -->
    <div class="mt-4 pt-4 border-t-2 border-black">
        <div class="flex flex-col gap-2">
            <label class="text-sm font-bold text-black">Context:</label>
            <div class="flex gap-1">
                <select id="context-switcher" class="flex-1 px-2 py-1 bg-white border-2 border-black text-black font-medium shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] focus:outline-none focus:ring-2 focus:ring-cyan-400 text-sm">
                    <!-- Options will be populated dynamically -->
                </select>
                <button id="new-context-btn" class="px-2 py-1 bg-pink-400 border-2 border-black text-black font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all text-sm" title="New Context">
                    +
                </button>
                <button id="delete-context-btn" class="px-2 py-1 bg-red-400 border-2 border-black text-black font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] active:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] active:translate-x-[1px] active:translate-y-[1px] transition-all text-sm" title="Delete Context">
                    Ã—
                </button>
            </div>
        </div>
    </div>
</div>